\usepackage{xltxtra}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{nicefrac}
\usepackage{enumerate}
\usepackage{leftidx}
\usepackage{stmaryrd} % for \longarrownot
\usepackage{tikz,tkz-fct}

\makeatletter
\g@addto@macro\th@definition{\thm@headpunct{:}}
\makeatother
\newcounter{saetze}
\newtheorem{lem}[saetze]{Lemma}
\newtheorem{beh}[saetze]{Behauptung}
\newtheorem{bem}[saetze]{Bemerkung}
\theoremstyle{definition}
\newtheorem*{ia}{Induktionsanfang}
\newtheorem*{is}{Induktionsschritt}

\renewcommand{\thesection}{Aufgabe \arabic{section}}
\renewcommand{\thesubsection}{\arabic{subsection}.}
\renewcommand{\thesubsubsection}{(\roman{subsubsection})}

\makeatletter
\def\moverlay{\mathpalette\mov@rlay}
\def\mov@rlay#1#2{\leavevmode\vtop{%
   \baselineskip\z@skip \lineskiplimit-\maxdimen
   \ialign{\hfil$\m@th#1##$\hfil\cr#2\crcr}}}
\newcommand{\charfusion}[3][\mathord]{
    #1{\ifx#1\mathop\vphantom{#2}\fi
        \mathpalette\mov@rlay{#2\cr#3}
      }
    \ifx#1\mathop\expandafter\displaylimits\fi}
\makeatother

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\id}{\operatorname{id}}
\newcommand{\dd}[1]{\,\text{d}#1}
\newcommand{\Imag}{\operatorname{Im}}
\newcommand{\sgn}{\operatorname{sgn}}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\dotcup}{\ensuremath{\mathaccent\cdot\cup}}
\newcommand{\bigdotcup}{\charfusion[\mathop]{\bigcup}{\cdot}}
\newcommand{\nlongrightarrow}{\longarrownot\longrightarrow}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\vect}[1]{\begin{pmatrix}#1\end{pmatrix}}
\newcommand{\partd}[2]{\frac{\partial #1}{\partial #2}}

\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother